{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/ddz/Desktop/funzos/teddy/components/LoginForm.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Formik, Field } from \"formik\";\nimport TextField from \"./TextField\";\nimport { useRouter } from 'next/router';\nimport Button from \"./Button\";\nimport { ArrowRightIcon } from \"@heroicons/react/outline\";\nimport userService from \"../services/userService\";\n\nvar LogInForm = function LogInForm() {\n  _s();\n\n  var router = useRouter();\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    initialValues: {\n      username: \"\",\n      password: \"\",\n      email: \"\"\n    },\n    onSubmit: function onSubmit(values, _ref) {\n      var setSubmitting = _ref.setSubmitting;\n      userService.LogInUser(values).then(function (token) {\n        if (token.status == 200) {\n          document.cookie = \"token=\".concat(token.data);\n          router.push('/dashboard');\n        } else {\n          window.location.reload();\n        }\n      })[\"catch\"](function () {\n        return window.location.reload();\n      });\n    },\n    validate: function validate(values) {\n      var errors = {};\n\n      if (!values.email) {\n        errors.email = \"Required\";\n      } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\n        errors.email = \"Invalid email address\";\n      }\n\n      if (!values.password) {\n        errors.password = \"Please enter your password!\";\n      }\n\n      if (!values.username) {\n        errors.username = \"Please enter your username!\";\n      } else if (values.username.length > 20) {\n        errors.username = \"Username must be less than 20 characters\";\n      }\n\n      return errors;\n    },\n    children: function children(_ref2) {\n      var values = _ref2.values,\n          errors = _ref2.errors,\n          touched = _ref2.touched,\n          handleChange = _ref2.handleChange,\n          handleBlur = _ref2.handleBlur,\n          handleSubmit = _ref2.handleSubmit,\n          isSubmitting = _ref2.isSubmitting;\n      return /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-16 col-span-2\",\n            children: [/*#__PURE__*/_jsxDEV(Field, {\n              errors: errors.username && touched.username && errors.username,\n              name: \"username\",\n              placeholder: \"Username\",\n              type: \"input\",\n              as: TextField\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs m-px text-red-500\",\n              children: errors.username && touched.username && errors.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-16 col-span-2\",\n            children: [/*#__PURE__*/_jsxDEV(Field, {\n              errors: errors.email && touched.email && errors.email,\n              name: \"email\",\n              placeholder: \"Email\",\n              type: \"email\",\n              as: TextField\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs m-px text-red-500\",\n              children: errors.email && touched.email && errors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-16 col-span-2\",\n            children: [/*#__PURE__*/_jsxDEV(Field, {\n              errors: errors.password && touched.password && errors.password,\n              name: \"password\",\n              placeholder: \"Password\",\n              type: \"password\",\n              as: TextField\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs m-px text-red-500\",\n              children: errors.password && touched.password && errors.password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full grid mt-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              color: \"green-300\",\n              disabled: isSubmitting,\n              type: \"submit\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: /*#__PURE__*/_jsxDEV(ArrowRightIcon, {\n                  className: \"h-5 w-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, _this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(LogInForm, \"fN7XvhJ+p5oE6+Xlo0NJmXpxjC8=\", false, function () {\n  return [useRouter];\n});\n\n_c = LogInForm;\nexport default LogInForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LogInForm\");","map":{"version":3,"sources":["/Users/ddz/Desktop/funzos/teddy/components/LoginForm.tsx"],"names":["Formik","Field","TextField","useRouter","Button","ArrowRightIcon","userService","LogInForm","router","username","password","email","values","setSubmitting","LogInUser","then","token","status","document","cookie","data","push","window","location","reload","errors","test","length","touched","handleChange","handleBlur","handleSubmit","isSubmitting"],"mappings":"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","sourcesContent":["import { Formik, Field, FieldArray } from \"formik\";\nimport { FC } from \"react\"\nimport TextField from \"./TextField\";\nimport Select from \"./Select\"\nimport Router, { useRouter } from 'next/router'\nimport jwt_decode from \"jwt-decode\";\nimport Button from \"./Button\";\nimport Cookies from \"js-cookie\"\nimport { ArrowRightIcon, ArrowLeftIcon } from \"@heroicons/react/outline\"\nimport userService from \"../services/userService\";\nconst LogInForm: FC = () => {\n  const router = useRouter()\n  return (\n    <Formik\n      initialValues={{\n        username: \"\",\n        password: \"\",\n        email: \"\"\n      }}\n      onSubmit={(values, { setSubmitting }) => {\n        userService.LogInUser(values).then((token) => {\n          if (token.status == 200) {\n            document.cookie = `token=${token.data}`;\n            router.push('/dashboard')\n          } else {\n            window.location.reload();\n          }\n        }).catch(() => window.location.reload())\n      }}\n      validate={(values) => {\n        const errors: any = {};\n        if (!values.email) {\n          errors.email = \"Required\";\n        } else if (\n          !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\n        ) {\n          errors.email = \"Invalid email address\";\n        }\n        if (!values.password) {\n          errors.password = \"Please enter your password!\";\n        }\n        if (!values.username) {\n          errors.username = \"Please enter your username!\";\n        } else if (values.username.length > 20) {\n          errors.username = \"Username must be less than 20 characters\";\n        }\n        return errors;\n      }}\n    >\n      {({\n        values,\n        errors,\n        touched,\n        handleChange,\n        handleBlur,\n        handleSubmit,\n        isSubmitting,\n      }) => (\n        <form onSubmit={handleSubmit}>\n          <div className=\"grid grid-cols-2 gap-5\">\n            <div className=\"h-16 col-span-2\">\n              <Field\n                errors={errors.username && touched.username && errors.username}\n                name=\"username\"\n                placeholder=\"Username\"\n                type=\"input\"\n                as={TextField}\n              ></Field>\n              <div className=\"text-xs m-px text-red-500\">\n                {errors.username && touched.username && errors.username}\n              </div>\n            </div>\n            <div className=\"h-16 col-span-2\">\n              <Field\n                errors={errors.email && touched.email && errors.email}\n                name=\"email\"\n                placeholder=\"Email\"\n                type=\"email\"\n                as={TextField}\n              ></Field>\n              <div className=\"text-xs m-px text-red-500\">\n                {errors.email && touched.email && errors.email}\n              </div>\n            </div>\n            <div className=\"h-16 col-span-2\">\n              <Field\n                errors={errors.password && touched.password && errors.password}\n                name=\"password\"\n                placeholder=\"Password\"\n                type=\"password\"\n                as={TextField}\n              ></Field>\n              <div className=\"text-xs m-px text-red-500\">\n                {errors.password && touched.password && errors.password}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"w-full grid mt-5\">\n            <div className=\"flex justify-center\">\n              <Button\n                color=\"green-300\"\n                disabled={isSubmitting}\n                type=\"submit\"\n              >\n                <div className=\"flex items-center\">\n                  <ArrowRightIcon className=\"h-5 w-5\"></ArrowRightIcon>\n                </div>\n              </Button>\n            </div>\n          </div>\n        </form>\n      )}\n    </Formik>\n  );\n}\n\n\nexport default LogInForm;\n"]},"metadata":{},"sourceType":"module"}