{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/ddz/Desktop/funzos/teddy/pages/login.tsx\";\nimport Card from \"../components/Card\";\nimport LogInForm from \"../components/LoginForm\";\nimport NavBar from \"../components/NavBar\";\nimport jwt_decode from \"jwt-decode\";\nimport axios from \"axios\";\n\nconst LogIn = props => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {\n      userData: props.userData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-7\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-3 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 14,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            title: \"Log In\",\n            titleAlign: \"center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center text-black\",\n              children: \"Take control of your health!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 16,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-10\",\n              children: /*#__PURE__*/_jsxDEV(LogInForm, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 18,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 17,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 15,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 13,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 13\n  }, this);\n};\n\nexport async function getServerSideProps(context) {\n  const cookies = context.req.headers.cookie;\n\n  if (cookies == undefined) {\n    return {\n      props: {\n        userData: {}\n      }\n    };\n  }\n\n  console.log(cookies);\n  var tok = cookies.substring(6);\n  var data = \"\";\n  console.log(tok);\n\n  if (tok != undefined && tok != \"undefined\") {\n    console.log(tok !== undefined);\n    console.log(tok);\n    var decoded = jwt_decode(tok);\n    var id = decoded.user_id;\n    console.log(\"I'm here\");\n    await axios.get(`https://api.demo.federico.codes/users/${id}`, {\n      headers: {\n        'Authorization': `${tok}`\n      }\n    }).then(user => {\n      data = user.data;\n      console.log(data);\n    }).catch(e => console.log(e));\n  } else {\n    return {\n      props: {\n        userData: {}\n      }\n    };\n  }\n\n  return {\n    redirect: {\n      destination: \"/dashboard\",\n      permanent: false\n    }\n  };\n}\nexport default LogIn;","map":{"version":3,"sources":["/Users/ddz/Desktop/funzos/teddy/pages/login.tsx"],"names":["Card","LogInForm","NavBar","jwt_decode","axios","LogIn","props","userData","getServerSideProps","context","cookies","req","headers","cookie","undefined","console","log","tok","substring","data","decoded","id","user_id","get","then","user","catch","e","redirect","destination","permanent"],"mappings":";;AAAA,OAAOA,IAAP,MAAiB,oBAAjB;AAEA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AAEA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,MAAMC,KAAS,GAAIC,KAAD,IAAgB;AAC9B,sBAAQ;AAAA,4BACJ,QAAC,MAAD;AAAQ,MAAA,QAAQ,EAAEA,KAAK,CAACC;AAAxB;AAAA;AAAA;AAAA;AAAA,YADI,eAEJ;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,wBAAf;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,IAAD;AAAM,YAAA,KAAK,EAAC,QAAZ;AAAqB,YAAA,UAAU,EAAC,QAAhC;AAAA,oCACI;AAAK,cAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAK,cAAA,SAAS,EAAC,OAAf;AAAA,qCACI,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eASI;AAAA;AAAA;AAAA;AAAA,kBATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAFI;AAAA;AAAA;AAAA;AAAA;AAAA,UAAR;AAmBH,CApBD;;AAqBA,OAAO,eAAeC,kBAAf,CAAkCC,OAAlC,EAAgD;AACnD,QAAMC,OAAO,GAAGD,OAAO,CAACE,GAAR,CAAYC,OAAZ,CAAoBC,MAApC;;AACA,MAAIH,OAAO,IAAII,SAAf,EAA0B;AACtB,WAAO;AAAER,MAAAA,KAAK,EAAE;AAAEC,QAAAA,QAAQ,EAAE;AAAZ;AAAT,KAAP;AACH;;AACDQ,EAAAA,OAAO,CAACC,GAAR,CAAYN,OAAZ;AACA,MAAIO,GAAG,GAAGP,OAAO,CAACQ,SAAR,CAAkB,CAAlB,CAAV;AACA,MAAIC,IAAI,GAAG,EAAX;AACAJ,EAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;;AACA,MAAIA,GAAG,IAAIH,SAAP,IAAoBG,GAAG,IAAI,WAA/B,EAA4C;AACxCF,IAAAA,OAAO,CAACC,GAAR,CAAYC,GAAG,KAAKH,SAApB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACA,QAAIG,OAAY,GAAGjB,UAAU,CAACc,GAAD,CAA7B;AACA,QAAII,EAAE,GAAGD,OAAO,CAACE,OAAjB;AACAP,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACA,UAAMZ,KAAK,CAACmB,GAAN,CAAW,yCAAwCF,EAAG,EAAtD,EAAyD;AAC3DT,MAAAA,OAAO,EAAE;AACL,yBAAkB,GAAEK,GAAI;AADnB;AADkD,KAAzD,EAIHO,IAJG,CAIGC,IAAD,IAAU;AACdN,MAAAA,IAAI,GAAGM,IAAI,CAACN,IAAZ;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,IAAZ;AACH,KAPK,EAOHO,KAPG,CAOGC,CAAC,IAAIZ,OAAO,CAACC,GAAR,CAAYW,CAAZ,CAPR,CAAN;AAQH,GAdD,MAcO;AACH,WAAO;AAAErB,MAAAA,KAAK,EAAE;AAAEC,QAAAA,QAAQ,EAAE;AAAZ;AAAT,KAAP;AACH;;AACD,SAAO;AAAEqB,IAAAA,QAAQ,EAAE;AAAEC,MAAAA,WAAW,EAAE,YAAf;AAA6BC,MAAAA,SAAS,EAAE;AAAxC;AAAZ,GAAP;AACH;AACD,eAAezB,KAAf","sourcesContent":["import Card from \"../components/Card\";\nimport { FC } from \"react\"\nimport LogInForm from \"../components/LoginForm\"\nimport NavBar from \"../components/NavBar\"\nimport Select from \"../components/Select\"\nimport jwt_decode from \"jwt-decode\";\nimport axios from \"axios\"\nconst LogIn: FC = (props: any) => {\n    return (<div>\n        <NavBar userData={props.userData}></NavBar>\n        <div>\n            <div className=\"p-7\">\n                <div className=\"grid grid-cols-3 gap-4\">\n                    <div></div>\n                    <Card title=\"Log In\" titleAlign=\"center\">\n                        <div className=\"text-center text-black\">Take control of your health!</div>\n                        <div className=\"mt-10\">\n                            <LogInForm></LogInForm>\n                        </div>\n                    </Card>\n\n                    <div></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    );\n}\nexport async function getServerSideProps(context: any) {\n    const cookies = context.req.headers.cookie;\n    if (cookies == undefined) {\n        return { props: { userData: {} } }\n    }\n    console.log(cookies)\n    var tok = cookies.substring(6)\n    var data = \"\"\n    console.log(tok)\n    if (tok != undefined && tok != \"undefined\") {\n        console.log(tok !== undefined)\n        console.log(tok)\n        var decoded: any = jwt_decode(tok);\n        var id = decoded.user_id\n        console.log(\"I'm here\")\n        await axios.get(`https://api.demo.federico.codes/users/${id}`, {\n            headers: {\n                'Authorization': `${tok}`\n            }\n        }).then((user) => {\n            data = user.data\n            console.log(data)\n        }).catch(e => console.log(e))\n    } else {\n        return { props: { userData: {} } }\n    }\n    return { redirect: { destination: \"/dashboard\", permanent: false } }\n}\nexport default LogIn;\n"]},"metadata":{},"sourceType":"module"}