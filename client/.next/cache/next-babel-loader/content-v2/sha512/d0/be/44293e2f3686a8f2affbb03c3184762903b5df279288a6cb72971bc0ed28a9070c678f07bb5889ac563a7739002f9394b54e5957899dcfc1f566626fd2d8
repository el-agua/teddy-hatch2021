{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/ddz/Desktop/funzos/teddy/components/LoginForm.tsx\";\nimport { Formik, Field } from \"formik\";\nimport TextField from \"./TextField\";\nimport { useRouter } from 'next/router';\nimport Button from \"./Button\";\nimport { ArrowRightIcon } from \"@heroicons/react/outline\";\nimport userService from \"../services/userService\";\n\nconst LogInForm = () => {\n  const router = useRouter();\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    initialValues: {\n      username: \"\",\n      password: \"\",\n      email: \"\"\n    },\n    onSubmit: (values, {\n      setSubmitting\n    }) => {\n      userService.LogInUser(values).then(token => {\n        if (token.status == 200) {\n          document.cookie = `token=${token.data}`;\n          router.push('/dashboard');\n        } else {\n          window.location.reload();\n        }\n      }).catch(() => window.location.reload());\n    },\n    validate: values => {\n      const errors = {};\n\n      if (!values.email) {\n        errors.email = \"Required\";\n      } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\n        errors.email = \"Invalid email address\";\n      }\n\n      if (!values.password) {\n        errors.password = \"Please enter your password!\";\n      }\n\n      if (!values.username) {\n        errors.username = \"Please enter your username!\";\n      } else if (values.username.length > 20) {\n        errors.username = \"Username must be less than 20 characters\";\n      }\n\n      return errors;\n    },\n    children: ({\n      values,\n      errors,\n      touched,\n      handleChange,\n      handleBlur,\n      handleSubmit,\n      isSubmitting\n    }) => /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-16 col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(Field, {\n            errors: errors.username && touched.username && errors.username,\n            name: \"username\",\n            placeholder: \"Username\",\n            type: \"input\",\n            as: TextField\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs m-px text-red-500\",\n            children: errors.username && touched.username && errors.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-16 col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(Field, {\n            errors: errors.email && touched.email && errors.email,\n            name: \"email\",\n            placeholder: \"Email\",\n            type: \"email\",\n            as: TextField\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs m-px text-red-500\",\n            children: errors.email && touched.email && errors.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-16 col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(Field, {\n            errors: errors.password && touched.password && errors.password,\n            name: \"password\",\n            placeholder: \"Password\",\n            type: \"password\",\n            as: TextField\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs m-px text-red-500\",\n            children: errors.password && touched.password && errors.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full grid mt-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            color: \"green-300\",\n            disabled: isSubmitting,\n            type: \"submit\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: /*#__PURE__*/_jsxDEV(ArrowRightIcon, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 5\n  }, this);\n};\n\nexport default LogInForm;","map":{"version":3,"sources":["/Users/ddz/Desktop/funzos/teddy/components/LoginForm.tsx"],"names":["Formik","Field","TextField","useRouter","Button","ArrowRightIcon","userService","LogInForm","router","username","password","email","values","setSubmitting","LogInUser","then","token","status","document","cookie","data","push","window","location","reload","catch","errors","test","length","touched","handleChange","handleBlur","handleSubmit","isSubmitting"],"mappings":"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","sourcesContent":["import { Formik, Field, FieldArray } from \"formik\";\nimport { FC } from \"react\"\nimport TextField from \"./TextField\";\nimport Select from \"./Select\"\nimport Router, { useRouter } from 'next/router'\nimport jwt_decode from \"jwt-decode\";\nimport Button from \"./Button\";\nimport Cookies from \"js-cookie\"\nimport { ArrowRightIcon, ArrowLeftIcon } from \"@heroicons/react/outline\"\nimport userService from \"../services/userService\";\nconst LogInForm: FC = () => {\n  const router = useRouter()\n  return (\n    <Formik\n      initialValues={{\n        username: \"\",\n        password: \"\",\n        email: \"\"\n      }}\n      onSubmit={(values, { setSubmitting }) => {\n        userService.LogInUser(values).then((token) => {\n          if (token.status == 200) {\n            document.cookie = `token=${token.data}`;\n            router.push('/dashboard')\n          } else {\n            window.location.reload();\n          }\n        }).catch(() => window.location.reload())\n      }}\n      validate={(values) => {\n        const errors: any = {};\n        if (!values.email) {\n          errors.email = \"Required\";\n        } else if (\n          !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\n        ) {\n          errors.email = \"Invalid email address\";\n        }\n        if (!values.password) {\n          errors.password = \"Please enter your password!\";\n        }\n        if (!values.username) {\n          errors.username = \"Please enter your username!\";\n        } else if (values.username.length > 20) {\n          errors.username = \"Username must be less than 20 characters\";\n        }\n        return errors;\n      }}\n    >\n      {({\n        values,\n        errors,\n        touched,\n        handleChange,\n        handleBlur,\n        handleSubmit,\n        isSubmitting,\n      }) => (\n        <form onSubmit={handleSubmit}>\n          <div className=\"grid grid-cols-2 gap-5\">\n            <div className=\"h-16 col-span-2\">\n              <Field\n                errors={errors.username && touched.username && errors.username}\n                name=\"username\"\n                placeholder=\"Username\"\n                type=\"input\"\n                as={TextField}\n              ></Field>\n              <div className=\"text-xs m-px text-red-500\">\n                {errors.username && touched.username && errors.username}\n              </div>\n            </div>\n            <div className=\"h-16 col-span-2\">\n              <Field\n                errors={errors.email && touched.email && errors.email}\n                name=\"email\"\n                placeholder=\"Email\"\n                type=\"email\"\n                as={TextField}\n              ></Field>\n              <div className=\"text-xs m-px text-red-500\">\n                {errors.email && touched.email && errors.email}\n              </div>\n            </div>\n            <div className=\"h-16 col-span-2\">\n              <Field\n                errors={errors.password && touched.password && errors.password}\n                name=\"password\"\n                placeholder=\"Password\"\n                type=\"password\"\n                as={TextField}\n              ></Field>\n              <div className=\"text-xs m-px text-red-500\">\n                {errors.password && touched.password && errors.password}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"w-full grid mt-5\">\n            <div className=\"flex justify-center\">\n              <Button\n                color=\"green-300\"\n                disabled={isSubmitting}\n                type=\"submit\"\n              >\n                <div className=\"flex items-center\">\n                  <ArrowRightIcon className=\"h-5 w-5\"></ArrowRightIcon>\n                </div>\n              </Button>\n            </div>\n          </div>\n        </form>\n      )}\n    </Formik>\n  );\n}\n\n\nexport default LogInForm;\n"]},"metadata":{},"sourceType":"module"}